<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/head :: _head"></head>
<body>
<header th:replace="fragments/layout :: _header"></header>

<main class="main-gris">
  <div th:replace="fragments/layout :: nav-server"></div>

  <div class="container">
    <div class="d-flex fles-row justify-content-between align-items-center">
      <h1>Lista de Servicios Solicitados</h1>
      <a class="btn btn-outline-success" th:href="@{/user/perfil}" type="button">Volver</a>
    </div>

    <table class="table">
      <thead>
    <tr>
      <th>ELIMINAR</th>
      <th>ID</th>
      <th>PULICACION</th>
      <th>CLIENTE</th>
      <th>FECHA DE CREACION</th>
      <th>COMENTARIO SOLICITUD</th>
      <th>ESTADO SERVICIO</th>
      <th>CAMBIAR ESTADO</th>
      <th>COMPLETO</th>
      <th>SET COMPLETO</th>
      <th>ESTADO SOLICITUD</th>
      <th>DAR DE BAJA</th>
      <th>CALIFICACION</th>
      <th>COMENTARIO</th>

    </tr>
      </thead>
      <tbody th:each="solicitud : ${solicitud}">
      <td><a th:href= "@{/admin/deleteSol/{solid} (solid=${solicitud.id})}" class="btn btn-outline-danger"> ELIMINAR </a> </td>
      <td th:text="${solicitud.id}"></td>
      <td th:text="${solicitud.publication.id}"></td>
      <td th:text="${solicitud.userClient.id}"></td>
      <td th:text="${solicitud.createdOn}"></td>
      <td th:text="${solicitud.comentario}"></td>
      <td th:text="${solicitud.estado}"></td>
        <td><a th:href= "@{/admin/editStatus/{id} (id=${solicitud.id})}"class="btn btn-outline-info">CAMBIAR </a></td>
        <td th:if="${solicitud.completo}">COMPLETO</td>
        <td th:unless="${solicitud.completo}"> - </td>
        <td><a th:href= "@{/admin/editCompleto/{id} (id=${solicitud.id})}" class="btn btn-outline-info">  COMPLETO </a></td>
      <td th:if="${solicitud.dardebaja}">ALTA</td>
      <td th:unless="${solicitud.dardebaja}"> BAJA</td>
        <td><a th:href= "@{/admin/solicitudAltaBaja/{id} (id=${solicitud.id})}" class="btn btn-outline-info">  ALTA/BAJA </a></td>
        <td th:each=" score : ${score}"  th:if="${solicitud.id == score.solicitud.id}" th:text="${score.puntaje}"> </td>
        <td th:each=" score : ${score}"  th:if="${solicitud.id == score.solicitud.id}" th:text="${score.comentario}"> </td>

    </tr>
    </tbody>
  </table>
</div>
</main>
<footer th:replace="/fragments/footer :: _footer"></footer>
<script src="js/fuction.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>





</body>
</html>

