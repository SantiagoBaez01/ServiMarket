<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/head :: head"></head>
    <body>
        <header>
            <nav th:replace="/fragments/nav :: nav"></nav>
        </header>
        <h1>Lista de Usuarios</h1>
    <table class="table table-secondary">
        <thead>
        <tr>
            <th scope="col">USER ID</th>
            <th scope="col">NAME</th>
            <th scope="col">ROLE</th>
            <th scope="col">CHANGE ROLE</th>
            <th scope="col">STATUS</th>
            <th scope="col">BAJA</th>
            <th scope="col">DELETE</th>

        </tr>
        <tr th:each="user : ${user}">
            <td th:text="${user.id}"></td>
            <td th:text="${user.name}"></td>
            <td th:text="${user.email}"></td>
            <td th:text="${user.role}"></td>
            <td>
                <!-- Verificar si el usuario tiene una imagen asociada -->
                <img th:if="${user.image != null}" th:src="@{'/imagen/' + ${user.image.id}}"
                     alt="Imagen de usuario" width="100" height="100">
            </td>
            <td><a th:href= "@{/admin/editRole/{id} (id=${user.id})}"><i class="far fa-edit"></i> CHANGE ROLE </a></td>
            <td th:text="${user.status}"></td>
            <td><a th:href= "@{/admin/editUserStatus/{id} (id=${user.id})}"><i class="far fa-edit"></i> CHANGE STATUS </a></td>
            <td><a th:href= "@{/admin/delete/{id} (id=${user.id})}"><i class="fas fa-exclamation-circle"></i> DELETE </a> </td>

            <!--
              </thead>
              <tbody th:each="user : ${user}">
              <tr>
                  <th scope="row" th:text="${user.id}"></th>
                  <td th:text="${user.name}"></td>
                  <td> <img th:if="${user.image != null}" class="logo" th:src="@{/image/profile/__${user.id}__}"> </td>
            <td th:text="${user.role}"></td>
            <td><a th:href= "@{/admin/editRole/{id} (id=${user.id})}"><i class="far fa-edit"></i> CHANGE </a></td>
            <td><a th:href= "@{/admin/delete/{id} (id=${user.id})}"><i class="fas fa-exclamation-circle"></i> DELETE </a> </td>

        </tr>-->

        </tbody>
    </table>

</html>
